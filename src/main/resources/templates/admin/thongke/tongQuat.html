<!doctype html>
<html lang="en" xmlns:th="http:/www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/admin/index}" xmlns="http://www.w3.org/1999/html">

<head>

    <meta charset="utf-8"/>
    <title>Dashboard | Dason - Admin & Dashboard Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description"/>
    <meta content="Themesbrand" name="author"/>
</head>

<body data-topbar="dark">
<!-- ============================================================== -->
<!-- Start right Content here -->
<!-- ============================================================== -->
<div class="main-content" layout:fragment="content">
    <style>
        .nameProduct{
            width:200px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    </style>
    <div class="page-content" ng-app="thongke-tongquat" ng-controller="ctrl">
        <div class="container-fluid">

            <div class="row d-flex justify-content-between">

                <div class="col-xl-2 col-md-6" >
                    <!-- card -->
                    <div class="card card-h-100" style="height: 144px">
                        <!-- card body -->
                        <div class="card-body">
                            <div id="reportrange" 
                                 style="cursor: pointer; padding: 5px 10px; height: 100%; width: 100%">
                                <div class="d-flex justify-content-center mb-2"><i class="fa fa-calendar"></i>&nbsp;</div>
                                <div class="d-flex justify-content-center mb-1">
                                    <span id="start" class="text-center col-12"></span>
                                </div>
                                <div class="d-flex justify-content-center mb-1">
                                    <span  class="text-center col-12" id="connect">Hôm nay</span>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <span id="end" class="text-center col-12"></span>
                                </div>
                            </div>
                            </input>
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div><!-- end col -->

<!--                //Số lượng đơn hàng-->
                <div class="col-xl-3 col-md-6">
                    <!-- card -->
                    <div class="card card-h-100">
                        <!-- card body -->
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <span class="text-muted mb-3 d-block text-truncate" style="font-weight: bold;font-size: 15px">Số lượng đơn hàng</span>
                                    <div class="d-flex align-items-center">
                                        <span class="col-4" style="font-weight: bold;font-size: 40px">
                                            <i class="dripicons-cart"></i>
                                        </span>

                                        <div class="col-8">
                                            <h4>
                                                <span style="float: right">{{tongQuat.quantityOrders}}</span>
                                            </h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div><!-- end col -->

<!--                //SỐ lượng sản phẩm-->
                <div class="col-xl-3 col-md-6">
                    <!-- card -->
                    <div class="card card-h-100">
                        <!-- card body -->
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <span class="text-muted mb-3 d-block text-truncate" style="font-weight: bold;font-size: 15px">Số lượng sản phẩm</span>
                                    <div class="d-flex align-items-center">
                                        <span class="col-4 d-flex align-items-start" style="font-weight: bold;font-size: 40px">
                                            <i class="mdi mdi-shoe-sneaker"></i>
                                        </span>
                                        <div class="col-8">
                                            <h4>
                                                <span style="float: right">{{tongQuat.quantityProducts}}</span>
                                            </h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div><!-- end col -->

<!--                //Doanh thu-->
                <div class="col-xl-3 col-md-6">
                    <!-- card -->
                    <div class="card card-h-100">
                        <!-- card body -->
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <span class="text-muted mb-3 d-block text-truncate" style="font-weight: bold;font-size: 15px">Doanh thu</span>
                                    <div class="d-flex align-items-center">
                                        <span class="col-4 d-flex align-items-start" style="font-weight: bold;font-size:40px">
                                            <i class="mdi mdi-cash-multiple"></i>
                                        </span>
                                        <div class="col-8">
                                            <h4>
                                                <span style="float: right">{{tongQuat.totalPrice | currency: "" : 1}} đ</span>
                                            </h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div><!-- end col -->
            </div><!-- end row-->

        </div>
        <!-- container-fluid -->

<!--///////////////-->
        <div class="container-fluid d-flex justify-content-between">
            <!--        Sản phẩm bán chạy-->
            <div style="width: 49%">
                <div class="card">
                    <div class="card-header align-items-center d-flex">
                        <h4 class="card-title mb-0 flex-grow-1">Sản phẩm bán chạy</h4>
                    </div><!-- end card header -->

                    <div class="card-body px-0 pt-2">
                        <div class="table-responsive px-3" data-simplebar >
                            <table class="table align-middle table-nowrap">
                                <thead>
                                <tr>
                                    <th colspan="2" style="width: 70%">Sản phẩm</th>
                                    <th style="width: 15%"><span  class="d-flex justify-content-center">Còn lại</span></th>
                                    <th  style="width: 15%"><span  class="d-flex justify-content-center"> Đã bán </span></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="s in sanPhamBanChay ">
                                    <td style="width: 50px;">
                                        <div class="avatar-md me-4">
                                            <img ng-if="s.sanPham.anh.length>0" style="width: 48px;height: 48px;border-radius: 5px"
                                                 src="/image/loadImage/product/{{s.sanPham.anh[0]}}" class="img-fluid" alt="">
                                            <img ng-if="s.sanPham.anh.length==0" style="width: 48px;height: 48px;border-radius: 5px"
                                                 src="/image/loadImage/product/default.png" class="img-fluid" alt="">
                                        </div>
                                    </td>

                                    <td style="width: 300px">
                                        <div>
                                            <h5 class="font-size-15 nameProduct"><a class="text-dark">{{s.sanPham.ten}}</a></h5>
                                            <span class="text-muted">{{s.sanPham.giaBan | currency : "" : 1}}đ</span>
                                        </div>
                                    </td>

                                    <td>
                                        <p class="mb-1 mb-1 d-flex justify-content-center"><a href="" class="text-dark">{{s.sanPham.soLuong==0?'Hết hàng':s.sanPham.soLuong}}</a></p>
<!--                                        <span class="text-muted">243K</span>-->
                                    </td>

                                    <td>
                                        <div class="text-end">
                                            <p class="mb-1 d-flex justify-content-center"><a href="" class="text-dark">{{s.soLuong}}</a></p>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- end card body -->
                </div>
                <!-- end card -->
            </div>
            <!--        Sản phẩm Tồn-->
            <div style="width: 49%">
                <div class="card">
                    <div class="card-header align-items-center d-flex">
                        <h4 class="card-title mb-0 flex-grow-1">Sản phẩm tồn</h4>
                    </div><!-- end card header -->

                    <div class="card-body px-0 pt-2">
                        <div class="table-responsive px-3" data-simplebar >
                            <table class="table align-middle table-nowrap">
                                <thead>
                                <tr>
                                    <th colspan="2">Sản phẩm</th>
                                    <th style="width: 15%"><span  class="d-flex justify-content-center">Ngày thêm</span></th>
                                    <th  style="width: 15%"><span  class="d-flex justify-content-center">Còn lại</span></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="s in sanPhamTon ">
                                    <td style="width: 50px;">
                                        <div class="avatar-md me-4">
                                            <img ng-if="s.anh.length>0" style="width: 48px;height: 48px;border-radius: 5px"
                                                 src="/image/loadImage/product/{{s.anh[0]}}" class="img-fluid" alt="">
                                            <img ng-if="s.anh.length==0" style="width: 48px;height: 48px;border-radius: 5px"
                                                 src="/image/loadImage/product/default.png" class="img-fluid" alt="">
                                        </div>
                                    </td>

                                    <td style="width: 200px">
                                        <div>
                                            <h5 class="font-size-15 nameProduct"><a href="/admin/san-pham/{{s.ma}}" class="text-dark">{{s.ten}}</a></h5>
                                            <span class="text-muted">{{s.giaBan | currency : "" : 1}}đ</span>
                                        </div>
                                    </td>
                                    <td>
                                        <div  style="width: 80px;">
                                        <p class="mb-1 text-dark">{{s.ngayTao | date:'dd-MM-yyyy'}}</p>
                                        <p class="mb-1 text-dark">{{s.ngayTao | date:'HH:mm:ss'}}</p>
                                        </div>
                                    </td>
                                    <td >
                                        <p class="mb-1 d-flex justify-content-center"><a href="" class="text-dark">{{s.soLuong}}</a></p>
                                        <!--                                        <span class="text-muted">243K</span>-->
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- end card body -->
                </div>
                <!-- end card -->
            </div>
        </div>
<!--        ////////////-->

        <div class="row mt-5">
            <div class="container">
                <!-- card -->
                <div class="card">
                    <!-- card body -->
                    <div class="card-body">

                        <div class="col-12" id="month"></div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>

</html>